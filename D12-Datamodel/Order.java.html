<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0113)file:///C:/Sven1/svgr/workspaces/SE-1/se1.bestellsystem/branches/D12-Datamodel/coverage/datamodel/Order.java.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="./jacoco_css/report.css" type="text/css"><link rel="shortcut icon" href="file:///C:/Sven1/svgr/workspaces/SE-1/se1.bestellsystem/branches/D12-Datamodel/coverage/jacoco-resources/report.gif" type="image/gif"><title>Order.java</title><link rel="stylesheet" href="./jacoco_css/prettify.css" type="text/css"><script type="text/javascript" src="./jacoco_css/prettify.js.download"></script></head><body onload="window[&#39;PR_TAB_WIDTH&#39;]=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="file:///C:/Sven1/svgr/workspaces/SE-1/se1.bestellsystem/branches/D12-Datamodel/coverage/jacoco-sessions.html" class="el_session">Sessions</a></span><a href="file:///C:/Sven1/svgr/workspaces/SE-1/se1.bestellsystem/branches/D12-Datamodel/coverage/index.html" class="el_report">JaCoCo Coverage Report</a> &gt; <a href="file:///C:/Sven1/svgr/workspaces/SE-1/se1.bestellsystem/branches/D12-Datamodel/coverage/datamodel/index.source.html" class="el_package">datamodel</a> &gt; <span class="el_source">Order.java</span></div><h1>Order.java</h1><pre class="source lang-java linenums"><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> datamodel</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">time</span><span class="pun">.</span><span class="typ">Instant</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">time</span><span class="pun">.</span><span class="typ">LocalDateTime</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">time</span><span class="pun">.</span><span class="typ">ZoneOffset</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">time</span><span class="pun">.</span><span class="pln">temporal</span><span class="pun">.</span><span class="typ">ChronoField</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.*;</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="com">/**</span><br></li><li class="L9"><span class="com">&nbsp;* Class of entity type &lt;i&gt;Order&lt;/i&gt;.</span><br></li><li class="L0"><span class="com">&nbsp;* &lt;p&gt;</span><br></li><li class="L1"><span class="com">&nbsp;* Order defines a relationship between a Customer and the seller over items &nbsp;to purchase.</span><br></li><li class="L2"><span class="com">&nbsp;* &lt;/p&gt;</span><br></li><li class="L3"><span class="com">&nbsp;* </span><br></li><li class="L4"><span class="com">&nbsp;* @version &lt;code style=color:green&gt;{@value application.package_info#Version}&lt;/code&gt;</span><br></li><li class="L5"><span class="com">&nbsp;* @author &lt;code style=color:blue&gt;{@value application.package_info#Author}&lt;/code&gt;</span><br></li><li class="L6"><span class="com">&nbsp;*/</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Order</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L0"><span class="com">&nbsp; &nbsp; &nbsp;* Unique id, null or "" are invalid values, id can be set only once.</span><br></li><li class="L1"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="fc" id="L23"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L5"><span class="com">&nbsp; &nbsp; &nbsp;* Reference to owning Customer, final, never null.</span><br></li><li class="L6"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Customer</span><span class="pln"> customer</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L0"><span class="com">&nbsp; &nbsp; &nbsp;* Date/time the order was created.</span><br></li><li class="L1"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Date</span><span class="pln"> created</span><span class="pun">;</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L5"><span class="com">&nbsp; &nbsp; &nbsp;* Items that are ordered as part of this order.</span><br></li><li class="L6"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><span class="fc" id="L38"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">List</span><span class="pun">&lt;</span><span class="typ">OrderItem</span><span class="pun">&gt;</span><span class="pln"> items </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ArrayList</span><span class="pun">&lt;&gt;();</span></span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><br></li><li class="L9"><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L1"><span class="com">&nbsp; &nbsp; &nbsp;* Constructor with customer owning the order.</span><br></li><li class="L2"><span class="com">&nbsp; &nbsp; &nbsp;* @param customer customer who ows the order</span><br></li><li class="L3"><span class="com">&nbsp; &nbsp; &nbsp;* @throws IllegalArgumentException if customer argument is null or has no valid id</span><br></li><li class="L4"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="fc" id="L46"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Order</span><span class="pun">(</span><span class="typ">Customer</span><span class="pln"> customer</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="fc bfc" id="L47" title="All 2 branches covered."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">customer</span><span class="pun">==</span><span class="kwd">null</span><span class="pun">)</span></span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><span class="fc" id="L48"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IllegalArgumentException</span><span class="pun">(</span><span class="str">"Customer empty."</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="pc bpc" id="L49" title="1 of 4 branches missed."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">customer</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">()==</span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> customer</span><span class="pun">.</span><span class="pln">getId</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0L</span><span class="pun">)</span></span><span class="pln"></span><br></li><li class="L9"><span class="pln"></span><span class="fc" id="L50"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IllegalArgumentException</span><span class="pun">(</span><span class="str">"Customer has invalid id."</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="fc" id="L52"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">customer </span><span class="pun">=</span><span class="pln"> customer</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="fc" id="L53"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">created </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Date</span><span class="pun">();</span></span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="fc" id="L54"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span></span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L6"><span class="com">&nbsp; &nbsp; &nbsp;* Id getter.</span><br></li><li class="L7"><span class="com">&nbsp; &nbsp; &nbsp;* @return order id, returns {@code null}, if id is unassigned</span><br></li><li class="L8"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getId</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="fc" id="L61"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> id</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L4"><span class="com">&nbsp; &nbsp; &nbsp;* Id setter. Id can only be set once with valid id, id is immutable after assignment.</span><br></li><li class="L5"><span class="com">&nbsp; &nbsp; &nbsp;* @param id only a valid id (not null or "") sets the id attribute on first invocation</span><br></li><li class="L6"><span class="com">&nbsp; &nbsp; &nbsp;* @throws IllegalArgumentException if id argument is invalid ({@code id==null} or {@code id==""})</span><br></li><li class="L7"><span class="com">&nbsp; &nbsp; &nbsp;* @return chainable self-reference.</span><br></li><li class="L8"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Order</span><span class="pln"> setId</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="fc bfc" id="L71" title="All 4 branches covered."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">id</span><span class="pun">==</span><span class="kwd">null</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> id</span><span class="pun">.</span><span class="pln">length</span><span class="pun">()==</span><span class="lit">0</span><span class="pun">)</span></span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="fc" id="L72"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IllegalArgumentException</span><span class="pun">(</span><span class="str">"invalid id (null or \"\")."</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//</span><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// set id only once; id cannot be changed afterwards</span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="fc bfc" id="L75" title="All 2 branches covered."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">==</span><span class="kwd">null</span><span class="pun">?</span><span class="pln"> id </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="fc" id="L76"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L9"><span class="com">&nbsp; &nbsp; &nbsp;* Customer getter.</span><br></li><li class="L0"><span class="com">&nbsp; &nbsp; &nbsp;* @return owning customer, cannot be null.</span><br></li><li class="L1"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Customer</span><span class="pln"> getCustomer</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="fc" id="L84"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> customer</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L7"><span class="com">&nbsp; &nbsp; &nbsp;* CreationDate getter, returns the time/date when the order was created.</span><br></li><li class="L8"><span class="com">&nbsp; &nbsp; &nbsp;* @return time/date when order was created as long in ms since 01/01/1970</span><br></li><li class="L9"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L0"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> getCreationDate</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="fc" id="L92"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> created</span><span class="pun">.</span><span class="pln">getTime</span><span class="pun">();</span></span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><br></li><li class="L4"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L5"><span class="com">&nbsp; &nbsp; &nbsp;* CreationDate setter for date/time in a valid range of {@code 01/01/2020, 00:00:00 &lt;= datetime &lt;= today +1 day, 23:59:59}.</span><br></li><li class="L6"><span class="com">&nbsp; &nbsp; &nbsp;* </span><br></li><li class="L7"><span class="com">&nbsp; &nbsp; &nbsp;* Attemting to set createDate older than the lower bound {@code 01/01/2020, 00:00:00} or past the upper bound {@code today +1 day, 23:59:59} will raise an IllegalArgumentException.</span><br></li><li class="L8"><span class="com">&nbsp; &nbsp; &nbsp;* @param datetime time/date when order was created (in milliseconds since 01/01/1970)</span><br></li><li class="L9"><span class="com">&nbsp; &nbsp; &nbsp;* @throws IllegalArgumentException if datetime is outside the valid range {@code 01/01/2020, 00:00:00 &lt;= datetime &lt;= today +1 day, 23:59:59}</span><br></li><li class="L0"><span class="com">&nbsp; &nbsp; &nbsp;* @return chainable self-reference</span><br></li><li class="L1"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Order</span><span class="pln"> setCreationDate</span><span class="pun">(</span><span class="kwd">long</span><span class="pln"> datetime</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="fc" id="L104"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Instant</span><span class="pln"> dti </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Instant</span><span class="pun">.</span><span class="pln">ofEpochMilli</span><span class="pun">(</span><span class="pln">datetime</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="fc" id="L105"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">LocalDateTime</span><span class="pln"> ldt </span><span class="pun">=</span><span class="pln"> </span><span class="typ">LocalDateTime</span><span class="pun">.</span><span class="pln">ofInstant</span><span class="pun">(</span><span class="pln">dti</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ZoneOffset</span><span class="pun">.</span><span class="pln">UTC</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">// if(datetime &lt; lowerBound || datetime &gt; upperBound)</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="fc bfc" id="L107" title="All 4 branches covered."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">ldt</span><span class="pun">.</span><span class="pln">isBefore</span><span class="pun">(</span><span class="pln">lowerLDT</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> ldt</span><span class="pun">.</span><span class="pln">isAfter</span><span class="pun">(</span><span class="pln">upperLDT</span><span class="pun">))</span></span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><span class="fc" id="L108"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IllegalArgumentException</span><span class="pun">(</span><span class="str">"invalid datetime argument (outside bounds 01/01/2020, 00:00:00 &lt;= datetime &lt;= today +1 day, 23:59:59)."</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//</span><span class="pln"></span><br></li><li class="L9"><span class="pln"></span><span class="fc" id="L110"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; created</span><span class="pun">.</span><span class="pln">setTime</span><span class="pun">(</span><span class="pln">datetime</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="fc" id="L111"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><br></li><li class="L3"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L4"><span class="com">&nbsp; &nbsp; &nbsp;* Number of items that are part of the order.</span><br></li><li class="L5"><span class="com">&nbsp; &nbsp; &nbsp;* @return number of items ordered</span><br></li><li class="L6"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> itemsCount</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="fc" id="L119"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> items</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span></span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L2"><span class="com">&nbsp; &nbsp; &nbsp;* Ordered items getter.</span><br></li><li class="L3"><span class="com">&nbsp; &nbsp; &nbsp;* @return immutable collection of ordered items</span><br></li><li class="L4"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Iterable</span><span class="pun">&lt;</span><span class="typ">OrderItem</span><span class="pun">&gt;</span><span class="pln"> getItems</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="fc" id="L127"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> items</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L7"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L0"><span class="com">&nbsp; &nbsp; &nbsp;* Create new item and add to order.</span><br></li><li class="L1"><span class="com">&nbsp; &nbsp; &nbsp;* @param article ordered article</span><br></li><li class="L2"><span class="com">&nbsp; &nbsp; &nbsp;* @param units units ordered</span><br></li><li class="L3"><span class="com">&nbsp; &nbsp; &nbsp;* @throws IllegalArgumentException if article is null or units not a positive {@code units &gt; 0} number</span><br></li><li class="L4"><span class="com">&nbsp; &nbsp; &nbsp;* @return chainable self-reference</span><br></li><li class="L5"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Order</span><span class="pln"> addItem</span><span class="pun">(</span><span class="typ">Article</span><span class="pln"> article</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> units</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><span class="pc bpc" id="L138" title="1 of 2 branches missed."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">article</span><span class="pun">==</span><span class="kwd">null</span><span class="pun">)</span></span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="nc" id="L139"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IllegalArgumentException</span><span class="pun">(</span><span class="str">"article is null."</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="pc bpc" id="L141" title="1 of 2 branches missed."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">units </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="nc" id="L142"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">IllegalArgumentException</span><span class="pun">(</span><span class="str">"units &lt;= 0."</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="fc" id="L144"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">OrderItem</span><span class="pln"> item </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">OrderItem</span><span class="pun">(</span><span class="pln">article</span><span class="pun">,</span><span class="pln"> units</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="fc" id="L145"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; items</span><span class="pun">.</span><span class="pln">add</span><span class="pun">(</span><span class="pln">item</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="fc" id="L146"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></span><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L9"><span class="com">&nbsp; &nbsp; &nbsp;* Delete i-th item from order, {@code i &gt;= 0 &amp;&amp; i &lt; items.size()}, otherwise method has no effect</span><br></li><li class="L0"><span class="com">&nbsp; &nbsp; &nbsp;* @param i index of item to delete, only a valid index deletes item otherwise method has no effect</span><br></li><li class="L1"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteItem</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="fc bfc" id="L154" title="All 4 branches covered."><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">i </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> items</span><span class="pun">.</span><span class="pln">size</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span></span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="fc" id="L155"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; items</span><span class="pun">.</span><span class="pln">remove</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L5"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="fc" id="L157"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span></span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><br></li><li class="L8"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L9"><span class="com">&nbsp; &nbsp; &nbsp;* Delete all ordered items.</span><br></li><li class="L0"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L1"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> deleteAllItems</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"></span><br></li><li class="L2"><span class="pln"></span><span class="fc" id="L163"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; items</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">();</span></span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="fc" id="L164"><span class="pln">&nbsp; &nbsp; </span><span class="pun">}</span></span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><br></li><li class="L6"><span class="pln">&nbsp; &nbsp; </span><span class="com">/**</span><br></li><li class="L7"><span class="com">&nbsp; &nbsp; &nbsp;* Bounds for valid Order creation date. An Order must be created after {@code 01/01/2020, 00:00:00}</span><br></li><li class="L8"><span class="com">&nbsp; &nbsp; &nbsp;* and before {@code today +1 day, 23:59:59}.</span><br></li><li class="L9"><span class="com">&nbsp; &nbsp; &nbsp;*/</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="fc" id="L171"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">Instant</span><span class="pln"> instant </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Instant</span><span class="pun">.</span><span class="pln">now</span><span class="pun">();</span></span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="fc" id="L172"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">LocalDateTime</span><span class="pln"> nowLDT </span><span class="pun">=</span><span class="pln"> </span><span class="typ">LocalDateTime</span><span class="pun">.</span><span class="pln">ofInstant</span><span class="pun">(</span><span class="pln">instant</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ZoneOffset</span><span class="pun">.</span><span class="pln">UTC</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L2"><span class="pln">&nbsp; &nbsp; </span><span class="com">// lower bound of valid order creation date-time is 01/01/2020, 00:00:00</span><span class="pln"></span><br></li><li class="L3"><span class="pln"></span><span class="fc" id="L174"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">LocalDateTime</span><span class="pln"> lowerLDT </span><span class="pun">=</span><span class="pln"> </span><span class="typ">LocalDateTime</span><span class="pun">.</span><span class="pln">of</span><span class="pun">(</span><span class="lit">2020</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span></span><span class="pln"></span><br></li><li class="L4"><span class="pln"></span><span class="fc" id="L175"><span class="pln">&nbsp; &nbsp; </span><span class="kwd">static</span><span class="pln"> </span><span class="kwd">final</span><span class="pln"> </span><span class="typ">LocalDateTime</span><span class="pln"> upperLDT </span><span class="pun">=</span><span class="pln"> </span><span class="typ">LocalDateTime</span><span class="pun">.</span><span class="pln">of</span><span class="pun">(</span></span><span class="pln"></span><br></li><li class="L5"><span class="pln"></span><span class="fc" id="L176"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nowLDT</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="typ">ChronoField</span><span class="pun">.</span><span class="pln">YEAR</span><span class="pun">),</span></span><span class="pln"></span><br></li><li class="L6"><span class="pln"></span><span class="fc" id="L177"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nowLDT</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="typ">ChronoField</span><span class="pun">.</span><span class="pln">MONTH_OF_YEAR</span><span class="pun">),</span></span><span class="pln"></span><br></li><li class="L7"><span class="pln"></span><span class="fc" id="L178"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nowLDT</span><span class="pun">.</span><span class="pln">get</span><span class="pun">(</span><span class="typ">ChronoField</span><span class="pun">.</span><span class="pln">DAY_OF_MONTH</span><span class="pun">),</span></span><span class="pln"></span><br></li><li class="L8"><span class="pln"></span><span class="fc" id="L179"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="lit">23</span><span class="pun">,</span><span class="pln"> </span><span class="lit">59</span><span class="pun">,</span><span class="pln"> </span><span class="lit">59</span><span class="pun">)</span></span><span class="pln"></span><br></li><li class="L9"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="com">//</span><span class="pln"></span><br></li><li class="L0"><span class="pln"></span><span class="fc" id="L181"><span class="pln">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">.</span><span class="pln">plusDays</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span><span class="pln"> &nbsp; </span><span class="com">// upper bound is tomorrow 23:59:59</span></span><span class="pln"></span><br></li><li class="L1"><span class="pln"></span><span class="pun">}</span></li></ol></pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>